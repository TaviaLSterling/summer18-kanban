(function(t){function e(e){for(var a,n,r=e[0],d=e[1],l=e[2],m=0,u=[];m<r.length;m++)n=r[m],o[n]&&u.push(o[n][0]),o[n]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(t[a]=d[a]);c&&c(e);while(u.length)u.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,r=1;r<s.length;r++){var d=s[r];0!==o[d]&&(a=!1)}a&&(i.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},o={app:0},i=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],d=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var c=d;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("c21b"),o=s.n(a);o.a},"158c":function(t,e,s){"use strict";var a=s("f3dc"),o=s.n(a);o.a},"2eb3":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},i=[],n=(s("034f"),s("2877")),r={},d=Object(n["a"])(r,o,i,!1,null,null,null);d.options.__file="App.vue";var l=d.exports,c=s("8c4f"),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"boards"},[s("h2",[t._v("Kanban Boards")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.addBoard(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newBoard.title,expression:"newBoard.title"}],attrs:{type:"text",placeholder:"title",required:""},domProps:{value:t.newBoard.title},on:{input:function(e){e.target.composing||t.$set(t.newBoard,"title",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newBoard.description,expression:"newBoard.description"}],attrs:{type:"text",placeholder:"description"},domProps:{value:t.newBoard.description},on:{input:function(e){e.target.composing||t.$set(t.newBoard,"description",e.target.value)}}}),s("button",{staticClass:"btn-success",attrs:{type:"submit"}},[t._v("Create Board")])]),t._l(t.boards,function(e){return s("div",{key:e._id},[s("router-link",{attrs:{to:{name:"board",params:{boardId:e._id}}}},[t._v(t._s(e.title))]),t._v("\n    - "+t._s(e.description)+"\n    "),s("button",{staticClass:"btn-danger",on:{click:function(s){t.deleteBoard(e._id)}}},[t._v("Delete Board")])],1)})],2)},u=[],p={name:"boards",created(){this.$store.state.user._id||this.$router.push({name:"login"})},mounted(){this.$store.dispatch("getBoards")},data(){return{newBoard:{title:"",description:""}}},computed:{boards(){return this.$store.state.boards}},methods:{addBoard(){this.$store.dispatch("addBoard",this.newBoard),this.newBoard={title:"",description:""}},deleteBoard(t){this.$store.dispatch("deleteBoard",t)},setActiveBoard(t){this.$store.dispatch("setActiveBoard",t)}}},h=p,v=Object(n["a"])(h,m,u,!1,null,null,null);v.options.__file="Boards.vue";var b=v.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"board container"},[t.activeBoard._id?s("div",[s("h1",{staticClass:"mt-5 mb-5"},[t._v("\n      "+t._s(t.activeBoard.title)+" - "+t._s(t.activeBoard.description)+"\n    ")])]):t._e(),s("form",{on:{submit:function(e){return e.preventDefault(),t.addList(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newList.title,expression:"newList.title"}],attrs:{type:"text",placeholder:"title",required:""},domProps:{value:t.newList.title},on:{input:function(e){e.target.composing||t.$set(t.newList,"title",e.target.value)}}}),s("button",{attrs:{type:"submit"}},[t._v("Create List")])]),s("div",{},[s("div",{},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},t._l(t.lists,function(t){return s("List",{staticClass:"col-4 m-5",attrs:{listData:t}})}))])])]),s("button",{staticClass:"btn-primary",on:{click:t.logout}},[t._v("Log Out")])])},f=[],w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card text-white bg-warning"},[s("div",[s("span",{staticClass:"card-title"},[s("h2",[t._v(t._s(t.listData.title))])]),s("div",{staticClass:"card bg-light text-dark"},t._l(t.tasks[t.listData._id],function(t){return s("Task",{staticClass:"task",attrs:{taskData:t}})})),s("div",{staticClass:"card-action"},[s("form",{on:{submit:function(e){e.preventDefault(),t.addTask(t.newTask)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.title,expression:"newTask.title"}],attrs:{type:"text",placeholder:"title",required:""},domProps:{value:t.newTask.title},on:{input:function(e){e.target.composing||t.$set(t.newTask,"title",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.description,expression:"newTask.description"}],attrs:{type:"text",placeholder:"description"},domProps:{value:t.newTask.description},on:{input:function(e){e.target.composing||t.$set(t.newTask,"description",e.target.value)}}}),s("button",{staticClass:"btn-info",attrs:{type:"submit"}},[t._v("Create Task")])]),s("button",{staticClass:"btn-danger",on:{click:function(e){t.deleteList(t.listData)}}},[t._v("Delete List")])])])])},_=[],k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h3",[t._v("\n\n    "+t._s(t.taskData.title))]),s("br"),s("h4",[t._v(t._s(t.taskData.description))]),s("button",{staticClass:"btn-danger",on:{click:function(e){t.deleteTask(t.taskData)}}},[t._v("Delete Task")]),s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n      Move to ...\n    ")]),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},t._l(t.lists,function(e){return s("div",{attrs:{listData:t.lists}},[s("a",{staticClass:"dropdown-item",on:{click:function(s){t.changeList(e._id)}}},[t._v(t._s(e.title))])])})),s("div",{staticClass:"card bg-info"},t._l(t.comments[t.taskData._id],function(t){return s("Comment",{attrs:{commentData:t}})})),s("div",{staticClass:"card-action"},[s("form",{on:{submit:function(e){e.preventDefault(),t.addComment(t.newComment)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newComment.description,expression:"newComment.description"}],attrs:{type:"text",placeholder:"description",required:""},domProps:{value:t.newComment.description},on:{input:function(e){e.target.composing||t.$set(t.newComment,"description",e.target.value)}}}),s("button",{staticClass:"btn-info",attrs:{type:"submit"}},[t._v("Create Comment")])])])])])},C=[],I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v("\n\n    "+t._s(t.commentData.title)+" "+t._s(t.commentData.description)+"\n  ")]),s("button",{on:{click:function(e){t.deleteComment(t.newComment)}}},[t._v("Delete Comment")])])},$=[],B={name:"Comment",created(){this.$store.state.user._id||this.$router.push({name:"login"})},data(){return{newComment:{description:"",boardId:"",listId:"",authorId:"",taskId:"",_id:""}}},props:["commentData"],computed:{tasks(){return this.$store.state.tasks},comments(){return this.$store.state.comments}},methods:{deleteComment(t){this.newComment.boardId=this.commentData.boardId,this.newComment.listId=this.commentData.listId,this.newComment.authorId=this.commentData.authorId,this.newComment.taskId=this.commentData.taskid,this.newComment._id=this.commentData._id,console.log(t),this.$store.dispatch("deleteComment",t)}},components:{}},L=B,D=Object(n["a"])(L,I,$,!1,null,null,null);D.options.__file="Comment.vue";var T=D.exports,y={name:"Task",created(){this.$store.state.user._id||this.$router.push({name:"login"})},data(){return{newComment:{title:"",description:"",boardId:"",listId:"",authorId:"",taskId:""}}},props:["taskData"],computed:{comments(){return this.$store.state.comments},lists(){return this.$store.state.lists},boards(){return this.$store.state.boards}},methods:{addTask(){},deleteTask(t){this.$store.dispatch("deleteTask",t)},addComment(t){this.newComment.boardId=this.taskData.boardId,this.newComment.listId=this.taskData.listId,this.newComment.authorId=this.taskData.authorId,this.newComment.taskId=this.taskData._id,console.log(t),this.$store.dispatch("addComment",this.newComment)},changeList(t){this.taskData.listId=t,this.$store.dispatch("changeList",this.taskData)}},components:{Comment:T}},x=y,U=(s("ca77"),Object(n["a"])(x,k,C,!1,null,"5fb8e28e",null));U.options.__file="Task.vue";var O=U.exports,P={name:"List",created(){this.$store.state.user._id||this.$router.push({name:"login"})},data(){return{newTask:{title:"",description:"",boardId:"",listId:"",authorId:""}}},props:["listData"],computed:{tasks(){return this.$store.state.tasks}},methods:{addList(){this.newList.boardId=this.activeBoard._id,console.log(this.newList),this.$store.dispatch("addList",this.newList)},deleteList(t){this.$store.dispatch("deleteList",t)},addTask(t){this.newTask.boardId=this.listData.boardId,this.newTask.listId=this.listData._id,this.newTask.authorId=this.listData.authorId,console.log(this.listData),this.$store.dispatch("addTask",this.newTask)}},components:{Task:O}},j=P,N=(s("999d"),Object(n["a"])(j,w,_,!1,null,"01448655",null));N.options.__file="List.vue";var A=N.exports,E={name:"board",data(){return{newList:{title:"",boardId:""}}},created(){this.$store.state.user._id||this.$router.push({name:"login"})},props:["boardId"],mounted(){this.$store.dispatch("setActiveBoard",this.boardId),this.$store.dispatch("getTasks",this.boardId),this.$store.dispatch("getComments",this.boardId)},computed:{activeBoard(){return this.$store.state.activeBoard||{}},lists(){return this.$store.state.lists}},methods:{addList(){this.newList.boardId=this.activeBoard._id,this.$store.dispatch("addList",this.newList)},deleteList(t){this.$store.dispatch("deleteList",boardId)},logout(){this.$store.dispatch("logout")}},components:{List:A}},M=E,S=(s("158c"),Object(n["a"])(M,g,f,!1,null,null,null));S.options.__file="Board.vue";var F=S.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid login mt-5"},[s("h2",[t._v("Task Master")]),t.loginForm?s("form",{on:{submit:function(e){return e.preventDefault(),t.loginUser(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.email,expression:"creds.email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:t.creds.email},on:{input:function(e){e.target.composing||t.$set(t.creds,"email",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.password,expression:"creds.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:t.creds.password},on:{input:function(e){e.target.composing||t.$set(t.creds,"password",e.target.value)}}}),s("button",{attrs:{type:"submit"}},[t._v("Login")])]):s("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.name,expression:"newUser.name"}],attrs:{type:"text",placeholder:"name"},domProps:{value:t.newUser.name},on:{input:function(e){e.target.composing||t.$set(t.newUser,"name",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.email,expression:"newUser.email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:t.newUser.email},on:{input:function(e){e.target.composing||t.$set(t.newUser,"email",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:t.newUser.password},on:{input:function(e){e.target.composing||t.$set(t.newUser,"password",e.target.value)}}}),s("button",{attrs:{type:"submit"}},[t._v("Create Account")])]),s("div",{on:{click:function(e){t.loginForm=!t.loginForm}}},[t.loginForm?s("h4",[t._v("No account? Click here to Register")]):s("h4",[t._v("Already have an account? Click here to Login")])])])},R=[],J={name:"login",data(){return{loginForm:!0,creds:{email:"",password:""},newUser:{email:"",password:"",name:""}}},methods:{register(){this.$store.dispatch("register",this.newUser)},loginUser(){this.$store.dispatch("login",this.creds)}}},K=J,z=(s("d891"),Object(n["a"])(K,q,R,!1,null,"4401aa98",null));z.options.__file="Login.vue";var G=z.exports;a["a"].use(c["a"]);var H=new c["a"]({routes:[{path:"/",name:"boards",component:b},{path:"/board/:boardId",name:"board",props:!0,component:F},{path:"/login",name:"login",component:G},{path:"*",redirect:"/"}]}),Q=s("2f62"),V=s("bc3a"),W=s.n(V);a["a"].use(Q["a"]);var X=!window.location.host.includes("localhost"),Y=X?"//kanban.herokuapp.com/":"//localhost:3000/";let Z=W.a.create({baseURL:Y+"api",timeout:2e3,withCredentials:!0}),tt=W.a.create({baseURL:Y,timeout:2e3,withCredentials:!0});var et=new Q["a"].Store({state:{user:{},boards:[],activeBoard:{},lists:[],list:{},tasks:{},comments:{}},mutations:{setUser(t,e){t.user=e},setBoards(t,e){t.boards=e},setActiveBoard(t,e){t.activeBoard=t.boards.find(t=>t._id==e)},setLists(t,e){t.lists=e},setTasks(t,e){let s={};e.forEach(t=>{s[t.listId]?s[t.listId].push(t):(s[t.listId]=[],s[t.listId].push(t))}),console.log(e),t.tasks=s},setComments(t,e){let s={};e.forEach(t=>{s[t.taskId]?s[t.taskId].push(t):(s[t.taskId]=[],s[t.taskId].push(t))}),console.log(e),t.comments=s},logout(t,e){t.user={},H.push({name:"login"})}},actions:{register({commit:t,dispatch:e},s){tt.post("register",s).then(e=>{t("setUser",e.data),H.push({name:"boards"})})},authenticate({commit:t,dispatch:e}){tt.get("authenticate").then(e=>{t("setUser",e.data),H.push({name:"boards"})})},login({commit:t,dispatch:e},s){tt.post("login",s).then(e=>{t("setUser",e.data),H.push({name:"boards"})})},logout({commit:t,dispatch:e}){tt.delete("logout").then(e=>{t("logout")})},getBoards({commit:t,dispatch:e}){Z.get("boards").then(e=>{t("setBoards",e.data)})},addBoard({commit:t,dispatch:e},s){Z.post("boards",s).then(t=>{e("getBoards")})},deleteBoard({commit:t,dispatch:e},s){Z.delete("boards/"+s).then(t=>{e("getBoards")})},setActiveBoard({commit:t,dispatch:e},s){let a={boardId:s};t("setActiveBoard",s),e("getLists",a)},getLists({commit:t,dispatch:e},s){Z.get("boards/"+s.boardId+"/lists").then(e=>{t("setLists",e.data)})},addList({commit:t,dispatch:e},s){Z.post("boards/"+s.boardId+"/lists",s).then(t=>{e("getLists",t.data)})},deleteList({commit:t,dispatch:e},s){Z.delete("boards/"+s.boardId+"/lists/"+s._id).then(t=>{e("getLists",s)})},getTasks({commit:t,dispatch:e},s){Z.get("boards/"+s+"/lists/tasks").then(e=>{t("setTasks",e.data)})},addTask({commit:t,dispatch:e},s){console.log(s),Z.post("boards/"+s.boardId+"/lists/"+s.listId+"/tasks",s).then(t=>{console.log(t),e("getTasks",t.data.boardId)})},deleteTask({commit:t,dispatch:e},s){Z.delete("boards/"+s.boardId+"/lists/"+s.listId+"/tasks/"+s._id).then(t=>{e("getTasks",s.boardId)})},changeList({commit:t,dispatch:e},s){Z.put("boards/tasks/"+s._id,{listId:s.listId}).then(t=>{e("getTasks",s.boardId)})},getComments({commit:t,dispatch:e},s){Z.get("boards/"+s+"/lists/tasks/comments").then(e=>{t("setComments",e.data)})},addComment({commit:t,dispatch:e},s){console.log(s),Z.post("boards/"+s.boardId+"/lists/"+s.listId+"/tasks/"+s.taskId+"/comments",s).then(t=>{console.log(t),e("getComments",t.data.boardId)})},deleteComment({commit:t,dispatch:e},s){Z.delete("boards/"+s.boardId+"/comments/"+s._id,s).then(t=>{e("getComments",s.boardId)})}}});a["a"].config.productionTip=!1,new a["a"]({router:H,store:et,created(){this.$store.dispatch("authenticate")},render:t=>t(l)}).$mount("#app")},"999d":function(t,e,s){"use strict";var a=s("a2eb"),o=s.n(a);o.a},a2eb:function(t,e,s){},c21b:function(t,e,s){},ca77:function(t,e,s){"use strict";var a=s("f0e4"),o=s.n(a);o.a},d891:function(t,e,s){"use strict";var a=s("2eb3"),o=s.n(a);o.a},f0e4:function(t,e,s){},f3dc:function(t,e,s){}});
//# sourceMappingURL=app.2aa1479e.js.map